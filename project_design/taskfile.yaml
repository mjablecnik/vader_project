version: '3'
# Manual is here: https://taskfile.dev/usage/

tasks:
  help:
    aliases: [default]
    cmd: "task --list"

  update-dependencies:
    desc: "Updates Dart dependencies"
    cmd: "fvm dart pub get"

  update-goldens:
    cmd: "fvm flutter test --update-goldens"
    desc: "Update Golden tests"

  build-runner-watch:
    cmd: "fvm dart run build_runner watch --delete-conflicting-outputs"
    desc: "Runs code generation with watch (build_runner)"

  build-runner:
    cmd: "fvm dart run build_runner build --delete-conflicting-outputs"
    desc: "Runs code generation (build_runner)"

  build-design:
    cmd: "./bin/design_builder -s src -o lib -p project_design"
    desc: "Generate Dart design files in lib folder"

  run-app:
    cmd: "fvm flutter run -t storybook/storybook.dart"
    desc: "Run design preview"

  run-tests:
    cmd: "fvm flutter test"
    desc: "Run tests"

  create-component:
    cmd: "./bin/code_builder -t component -p project_design -d src/design/"
    desc: "Create new component"

  generate-launcher-icons:
    cmd: "fvm dart run flutter_launcher_icons"
    desc: "Generate launcher icons"

  generate-package-name:
    cmd: "fvm dart run package_rename"
    desc: "Generate package name"
